<div class="container-fluid" id="allDishes" ng-cloak>
  <div class="row">
    <div class="col-md-12">

      <ul class="nav nav-tabs">
        <li class="active"><a class="allDishes" ng-click="allDishes.goToAllDishes()">All Dishes</a></li>
        <li><a class="addDish" ng-click="allDishes.goToAddDish()">Add Dish</a></li>
        <li><a class="guestBill" ng-click="allDishes.goToGuestBill()">Your Bill</a></li>
      </ul>

      <h3>All Dishes</h3>
      <p>Hi, {{_.capitalize(allDishes.username)}}.
      You have joined bill <strong class="code">{{allDishes.data.code}}</strong>.</p>

      <div ng-repeat="dish in allDishes.data.dishes">
        <div class="list-group" ng-if="dish.users.length !== 0">
          <div class="list-group-item">
            <h4 class="list-group-item-heading">
            {{ _.map(dish.name.split(" "), _.capitalize).join(" ") }}
            </h4>
            <p class="list-group-item-text">
              Cost: {{dish.cost | currency }}
            </p>
            <span><small class="sharedBy">{{ allDishes.getUsersByDish(dish, allDishes.data.users) }} got this.</small></span>
          </div>
          <div class="list-group-item">
          <!-- used to be 'button', now 'span: important for selenium -->
            <button ng-click="allDishes.shareDish(dish.dish_id, allDishes.user_id, dish.users)" class="share badge">Share</button>
            <button ng-click="allDishes.unshareDish(dish.dish_id, allDishes.user_id, dish.users)" class="unshare badge">Unshare</button>
          </div>
        </div>

        <!--      <div class="list-group">
          <a href="#" class="list-group-item active">Home</a>
          <div class="list-group-item">
            List header
          </div>
          <div class="list-group-item">
            <h4 class="list-group-item-heading">
            List group item heading
            </h4>
            <p class="list-group-item-text">
              ...
            </p>
          </div>
          <div class="list-group-item">
            <span class="badge">14</span>Help
          </div>
          <a class="list-group-item active"><span class="badge">14</span>Help</a>
        </div> -->

      </div>
    </div>
  </div>
</div>
